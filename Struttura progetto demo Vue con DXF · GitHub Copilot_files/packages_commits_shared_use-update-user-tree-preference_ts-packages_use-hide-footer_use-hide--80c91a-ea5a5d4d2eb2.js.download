"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_commits_shared_use-update-user-tree-preference_ts-packages_use-hide-footer_use-hide--80c91a"],{1946:(e,t,i)=>{i.d(t,{oj:()=>b,ZH:()=>x});var n=i(74848),r=i(21728),l=i(38621),a=i(96540),o=i(11196),c=i(57352),s=i(40480),d=i(25556),f=i(35311),m=i(78049),u=i(34535),h=i(81355),p=i(71315);let g={"file-tree-row":"DiffFileTree-module__file-tree-row--GJi_6"},y=(0,a.memo)(function(e){let t,i=(0,r.c)(2),{changeType:l}=e;return i[0]!==l?(t=(0,n.jsx)(m.E,{status:l}),i[0]=l,i[1]=t):t=i[1],t});y.displayName="FileStatusIconItem";let x=(0,a.memo)(function(e){let t,i,d,f,m,h,x,v,j,b,_=(0,r.c)(37),{file:w,depth:S,hash:D,onSelect:C}=e,N=(0,a.useRef)(null),I=(0,a.useRef)(null),E=`#diff-${w.diff.pathDigest}`;_[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:N,mouseRowRef:N},_[0]=t):t=_[0];let T=(0,u.Z)(t),P=w.diff.totalCommentsCount??0,R=w.diff.highestAnnotationLevel,k=null,$=w.fileName??"This file";switch(P>0&&($+=` has ${P<10?P:"9+"} ${P>1?"comments":"comment"}`),R){case"WARNING":{let e;$+=`${P>0?" and":""} has warning annotations`,_[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,n.jsx)(l.AlertIcon,{})}),_[1]=e):e=_[1],k=e;break}case"NOTICE":{let e;$+=`${P>0?" and":""} has notice annotations`,_[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-default",children:(0,n.jsx)(l.InfoIcon,{})}),_[2]=e):e=_[2],k=e;break}case"FAILURE":{let e;$+=`${P>0?" and":""} has failure annotations`,_[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,n.jsx)(l.XCircleFillIcon,{})}),_[3]=e):e=_[3],k=e}}_[4]!==w.diff.pathDigest||_[5]!==D?(i=()=>{if(N.current&&w.diff.pathDigest===D){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=N.current.offsetTop,i=p.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},d=[w.diff.pathDigest,D],_[4]=w.diff.pathDigest,_[5]=D,_[6]=i,_[7]=d):(i=_[6],d=_[7]),(0,a.useEffect)(i,d),_[8]!==E?(f=e=>{if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(E,"_blank");return}},_[8]=E,_[9]=f):f=_[9];let F=f;_[10]!==F||_[11]!==C?(m=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(N?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),C?.(),I?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),F(e);return}C?.(),I?.current?.click()}},_[10]=F,_[11]=C,_[12]=m):m=_[12];let O=m,G=w.fileName??"";_[13]!==E||_[14]!==G||_[15]!==F?(h=(0,n.jsx)(c.A,{href:E,muted:!0,ref:I,role:"presentation",className:"fgColor-default",tabIndex:-1,onClick:F,children:G}),_[13]=E,_[14]=G,_[15]=F,_[16]=h):h=_[16];let A=h,U=w.diff.pathDigest===D;return _[17]!==w.diff.changeType?(x=(0,n.jsx)(s.G.LeadingVisual,{children:(0,n.jsx)(y,{changeType:w.diff.changeType})}),_[17]=w.diff.changeType,_[18]=x):x=_[18],_[19]!==A||_[20]!==G||_[21]!==T?(v=T?(0,n.jsx)(o.m,{text:G,direction:"ne",children:A}):A,_[19]=A,_[20]=G,_[21]=T,_[22]=v):v=_[22],_[23]!==k||_[24]!==R||_[25]!==P?(j=(!!P||R)&&(0,n.jsx)(s.G.TrailingVisual,{children:(0,n.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!P&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.CommentIcon,{}),(0,n.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:P<10?P:"9+"})]}),k]})}),_[23]=k,_[24]=R,_[25]=P,_[26]=j):j=_[26],_[27]!==S||_[28]!==w.diff.path||_[29]!==w.diff.pathDigest||_[30]!==O||_[31]!==$||_[32]!==j||_[33]!==U||_[34]!==x||_[35]!==v?(b=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.G.Item,{defaultExpanded:!0,"aria-label":$,"aria-level":S,current:U,id:w.diff.path,onSelect:O,ref:N,className:g["file-tree-row"],children:[x,v,j]},w.diff.pathDigest)}),_[27]=S,_[28]=w.diff.path,_[29]=w.diff.pathDigest,_[30]=O,_[31]=$,_[32]=j,_[33]=U,_[34]=x,_[35]=v,_[36]=b):b=_[36],b});function v(e){let t,i,l,o,c,f,m,h,p,g,y,x,b=(0,r.c)(43);b[0]!==e?({directory:t,depth:o,leadingPath:c,sortByDiffOrder:l,...i}=e,b[0]=e,b[1]=t,b[2]=i,b[3]=l,b[4]=o,b[5]=c):(t=b[1],i=b[2],l=b[3],o=b[4],c=b[5]);let _=void 0===o?0:o,w=void 0===c?"":c,S=w?`${w}/`:"",D=a.useRef(null),C=a.useRef(null);b[6]===Symbol.for("react.memo_cache_sentinel")?(f={focusRowRef:C,mouseRowRef:D},b[6]=f):f=b[6];let N=(0,u.Z)(f);if(!t.files.length&&1===t.directories.length){let e,r;if(b[7]!==_||b[8]!==t.directories||b[9]!==t.name||b[10]!==i||b[11]!==S||b[12]!==l){let r;b[14]!==_||b[15]!==t.name||b[16]!==i||b[17]!==S||b[18]!==l?(r=e=>(0,n.jsx)(v,{depth:0===_?1:_,directory:e,leadingPath:`${S}${t.name}`,sortByDiffOrder:l,...i},e.path),b[14]=_,b[15]=t.name,b[16]=i,b[17]=S,b[18]=l,b[19]=r):r=b[19],e=t.directories.map(r),b[7]=_,b[8]=t.directories,b[9]=t.name,b[10]=i,b[11]=S,b[12]=l,b[13]=e}else e=b[13];return b[20]!==e?(r=(0,n.jsx)(n.Fragment,{children:e}),b[20]=e,b[21]=r):r=b[21],r}b[22]!==_||b[23]!==t||b[24]!==i||b[25]!==l?(m=function(){return(0,n.jsx)(j,{directory:t,depth:_,sortByDiffOrder:l,...i})},b[22]=_,b[23]=t,b[24]=i,b[25]=l,b[26]=m):m=b[26];let I=m;if(0===_){let e;return b[27]!==I?(e=I(),b[27]=I,b[28]=e):e=b[28],e}b[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,n.jsx)(s.G.LeadingVisual,{children:(0,n.jsx)(s.G.DirectoryIcon,{})}),b[29]=h):h=b[29];let E=`${S}${t.name}`;return b[30]!==E?(p=(0,n.jsx)("span",{ref:D,children:E}),b[30]=E,b[31]=p):p=b[31],b[32]!==t.name||b[33]!==S||b[34]!==N?(g=N&&(0,n.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:C,"aria-label":`${S}${t.name}`,open:!0,direction:"ne"}),b[32]=t.name,b[33]=S,b[34]=N,b[35]=g):g=b[35],b[36]!==I?(y=(0,n.jsx)(s.G.SubTree,{children:I()}),b[36]=I,b[37]=y):y=b[37],b[38]!==t.path||b[39]!==p||b[40]!==g||b[41]!==y?(x=(0,n.jsxs)(s.G.Item,{ref:C,defaultExpanded:!0,id:t.path,children:[h,p,g,y]},t.path),b[38]=t.path,b[39]=p,b[40]=g,b[41]=y,b[42]=x):x=b[42],x}let j=(0,a.memo)(function(e){let t,i,l=(0,r.c)(4);if(l[0]!==e){let{directory:i,fileNodeRenderer:r,sortByDiffOrder:a,depth:o,...c}=e,s=void 0===o?0:o,d=i.files.map(_).concat(i.directories.map(w));a?d.sort(S):d.sort(D),t=d.map(e=>"file"!==e.pathType?(0,n.jsx)(v,{depth:s+1,directory:e.node,fileNodeRenderer:r,sortByDiffOrder:a,...c},e.path):r?r({...c,file:e.node,depth:s+1}):(0,n.jsx)(x,{depth:s+1,file:e.node,...c},e.path)),l[0]=e,l[1]=t}else t=l[1];return l[2]!==t?(i=(0,n.jsx)(n.Fragment,{children:t}),l[2]=t,l[3]=i):i=l[3],i}),b=(0,a.memo)(function(e){let t,i,l,a,o,c,d,m,u=(0,r.c)(17);u[0]!==e?({diffs:i,fileNodeRenderer:l,sortByDiffOrder:o,className:t,...a}=e,u[0]=e,u[1]=t,u[2]=i,u[3]=l,u[4]=a,u[5]=o):(t=u[1],i=u[2],l=u[3],a=u[4],o=u[5]),u[6]!==i?(c=(0,f.xY)(i),u[6]=i,u[7]=c):c=u[7];let p=c,{selectedPathDigest:g}=(0,h.U)();return u[8]!==l||u[9]!==a||u[10]!==p||u[11]!==g||u[12]!==o?(d=(0,n.jsx)(v,{directory:p,fileNodeRenderer:l,sortByDiffOrder:o,...a,hash:g}),u[8]=l,u[9]=a,u[10]=p,u[11]=g,u[12]=o,u[13]=d):d=u[13],u[14]!==t||u[15]!==d?(m=(0,n.jsx)(s.G,{"aria-label":"File Tree",className:t,children:d}),u[14]=t,u[15]=d,u[16]=m):m=u[16],m});try{x.displayName||(x.displayName="File")}catch{}try{v.displayName||(v.displayName="Directory")}catch{}try{j.displayName||(j.displayName="DirectoryRendering")}catch{}try{b.displayName||(b.displayName="DiffFileTree")}catch{}function _(e){return{path:e.filePath,pathType:"file",node:e,sortOrder:e.sortOrder}}function w(e){return{path:e.path,pathType:"directory",node:e,sortOrder:e.sortOrder}}function S(e,t){return e.sortOrder-t.sortOrder}function D(e,t){return(0,f.wH)(e.path,t.path)}},8624:(e,t,i)=>{i.d(t,{L:()=>c});var n=i(74848),r=i(21728),l=i(38621),a=i(26108),o=i(34164);let c=i(96540).forwardRef((e,t)=>{let i,c,s,d=(0,r.c)(17),{expanded:f,testid:m,ariaLabel:u,ariaControls:h,onToggleExpanded:p,alignment:g,dataHotkey:y,className:x,size:v,tooltipDirection:j,variant:b}=e,_=f?`collapse-${m}`:`expand-${m}`,w=f?"left"===g?l.SidebarExpandIcon:l.SidebarCollapseIcon:"left"===g?l.SidebarCollapseIcon:l.SidebarExpandIcon;d[0]!==p?(i=e=>{p(e)},d[0]=p,d[1]=i):i=d[1];let S=b??"invisible";return d[2]!==x?(c=(0,o.$)(x,"fgColor-muted"),d[2]=x,d[3]=c):c=d[3],d[4]!==h||d[5]!==u||d[6]!==y||d[7]!==f||d[8]!==t||d[9]!==v||d[10]!==_||d[11]!==w||d[12]!==i||d[13]!==S||d[14]!==c||d[15]!==j?(s=(0,n.jsx)(a.K,{"aria-label":u,tooltipDirection:j,ref:t,"data-testid":_,"aria-expanded":f,"aria-controls":h,icon:w,"data-hotkey":y,onClick:i,variant:S,size:v,className:c}),d[4]=h,d[5]=u,d[6]=y,d[7]=f,d[8]=t,d[9]=v,d[10]=_,d[11]=w,d[12]=i,d[13]=S,d[14]=c,d[15]=j,d[16]=s):s=d[16],s});c.displayName="ExpandButton"},27028:(e,t,i)=>{i.d(t,{G:()=>A});var n=i(74848),r=i(21728),l=i(38621),a=i(27042),o=i(26108),c=i(5524),s=i(21373),d=i(29295),f=i(96540),m=i(21067),u=i(25407),h=i(76648),p=i(96379);function g(e){return!e.dismissed}function y(e){let t,i=(0,r.c)(5),n=function(){let e,t,i=(0,r.c)(5),n=(0,h.B)();if(!n){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[0]=e):e=i[0],e}i[1]!==n.userNotices?(e=n.userNotices??[],i[1]=n.userNotices,i[2]=e):e=i[2];let l=e;return i[3]!==l?(t=l.filter(g),i[3]=l,i[4]=t):t=i[4],t}();if(i[0]!==n||i[1]!==e){let r;i[3]!==e?(r=t=>t.name===e,i[3]=e,i[4]=r):r=i[4],t=n.filter(r),i[0]=n,i[1]=e,i[2]=t}else t=i[2];return 0===t.length}var x=i(70719);let v={PopoverContainer:"DiffCompactLinesPopover-module__PopoverContainer--A4URR",PopoverContent:"DiffCompactLinesPopover-module__PopoverContent--HUydq",Heading:"DiffCompactLinesPopover-module__Heading--hFmwp"};var j=i(34164);let b="compact_diff_lines";function _(){let e,t,i,l,a,o,c,h,g,_,D=(0,r.c)(19),C=y(b),{dismissNotice:N}=function(e){let t,i,n=(0,r.c)(5),l=y(e);n[0]!==l||n[1]!==e?(t=()=>{(0,m.M3)()&&!l&&(0,p.DI)((0,u.VB1)({noticeName:e}),{method:"POST"})},n[0]=l,n[1]=e,n[2]=t):t=n[2];let a=t;return n[3]!==a?(i={dismissNotice:a},n[3]=a,n[4]=i):i=n[4],i}(b);D[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:S,onError:w},D[0]=e):e=D[0];let{mutate:I}=(0,x.U)(e),[E,T]=(0,f.useState)(!0);D[1]!==N||D[2]!==I?(t=()=>{I({lineSpacing:"compact"}),T(!1),N()},D[1]=N,D[2]=I,D[3]=t):t=D[3];let P=t;D[4]!==N?(i=()=>{T(!1),N()},D[4]=N,D[5]=i):i=D[5];let R=i;return C?null:(D[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,j.$)("d-flex flex-column gap-2",v.PopoverContent),a=(0,n.jsx)("h2",{className:v.Heading,children:"Customizable line height"}),o=(0,n.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),D[6]=l,D[7]=a,D[8]=o):(l=D[6],a=D[7],o=D[8]),D[9]!==P?(c=(0,n.jsx)(s.Q,{onClick:P,children:"Enable compact line height"}),D[9]=P,D[10]=c):c=D[10],D[11]!==R?(h=(0,n.jsx)(s.Q,{onClick:R,variant:"invisible",children:"Dismiss"}),D[11]=R,D[12]=h):h=D[12],D[13]!==c||D[14]!==h?(g=(0,n.jsxs)(d.A.Content,{className:l,children:[a,o,(0,n.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[c,h]})]}),D[13]=c,D[14]=h,D[15]=g):g=D[15],D[16]!==E||D[17]!==g?(_=(0,n.jsx)(d.A,{open:E,caret:"top-right",className:v.PopoverContainer,children:g}),D[16]=E,D[17]=g,D[18]=_):_=D[18],_)}function w(){}function S(){}try{_.displayName||(_.displayName="DiffCompactLinesPopover")}catch{}var D=i(79472);function C(e){let t,i,l,a,o,s=(0,r.c)(16),{whitespacePreferenceAvailable:d,lineSpacingPreferenceAvailable:f,defaultHideWhitespace:m,onUpdateWhitespace:u,reloadOnChange:h}=e,p=void 0===d||d,g=void 0===f||f,{data:y}=(0,D.ID)(),v=(0,D.Qn)(void 0!==m&&m);s[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:I,onError:N},s[0]=t):t=s[0];let{mutate:j}=(0,x.U)(t);s[1]!==v||s[2]!==u||s[3]!==h?(i=()=>{(0,D.bJ)("w",v?"0":"1"),u?.(!v),void 0!==h&&h()},s[1]=v,s[2]=u,s[3]=h,s[4]=i):i=s[4];let b=i;return y&&(p||g)?(s[5]!==v||s[6]!==b||s[7]!==p?(l=p&&(0,n.jsx)(c.l.Item,{selected:v,onSelect:b,children:"Hide whitespace"}),s[5]=v,s[6]=b,s[7]=p,s[8]=l):l=s[8],s[9]!==y||s[10]!==g||s[11]!==j?(a=g&&(0,n.jsx)(c.l.Item,{selected:"compact"===y.lineSpacing,onSelect:()=>j({lineSpacing:"compact"===y.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),s[9]=y,s[10]=g,s[11]=j,s[12]=a):a=s[12],s[13]!==l||s[14]!==a?(o=(0,n.jsxs)(c.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[l,a]}),s[13]=l,s[14]=a,s[15]=o):o=s[15],o):null}function N(){}function I(){}try{C.displayName||(C.displayName="DiffLinePresentationToggles")}catch{}function E(e){let t,i,l,a,o,s,d,f=(0,r.c)(17),{reloadOnChange:m}=e,u=void 0!==m&&m,{data:h}=(0,D.ID)(),p=h?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:P,onError:T},f[0]=t):t=f[0];let{mutate:g}=(0,x.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(c.l.GroupHeading,{children:"Layout"}),f[1]=i):i=f[1];let y="unified"===p;f[2]!==u||f[3]!==g?(l=()=>{g({splitPreference:"unified"}),(0,D.bJ)("diff","unified"),u&&window.location.reload()},f[2]=u,f[3]=g,f[4]=l):l=f[4],f[5]!==y||f[6]!==l?(a=(0,n.jsx)(c.l.Item,{selected:y,onSelect:l,children:"Unified"}),f[5]=y,f[6]=l,f[7]=a):a=f[7];let v="split"===p;return f[8]!==u||f[9]!==g?(o=()=>{g({splitPreference:"split"}),(0,D.bJ)("diff","split"),u&&window.location.reload()},f[8]=u,f[9]=g,f[10]=o):o=f[10],f[11]!==v||f[12]!==o?(s=(0,n.jsx)(c.l.Item,{selected:v,onSelect:o,children:"Split"}),f[11]=v,f[12]=o,f[13]=s):s=f[13],f[14]!==a||f[15]!==s?(d=(0,n.jsxs)(c.l.Group,{selectionVariant:"single",children:[i,a,s]}),f[14]=a,f[15]=s,f[16]=d):d=f[16],d}function T(){}function P(){}try{E.displayName||(E.displayName="DiffViewPreferenceToggle")}catch{}var R=i(18799);function k(){let e,t,i,l=(0,r.c)(7),{data:a}=(0,D.ID)();l[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:F,onError:$},l[0]=e):e=l[0];let{mutate:o}=(0,x.U)(e);if(!a)return null;let s=a.commentsPreference===R.sI.Collapsed;return l[1]!==s||l[2]!==o?(t=()=>o({commentsPreference:s?R.sI.Visible:R.sI.Collapsed}),l[1]=s,l[2]=o,l[3]=t):t=l[3],l[4]!==s||l[5]!==t?(i=(0,n.jsx)(c.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,n.jsx)(c.l.Item,{role:"menuitemcheckbox",selected:s,onSelect:t,children:"Minimize comments"})}),l[4]=s,l[5]=t,l[6]=i):i=l[6],i}function $(){}function F(){}try{k.displayName||(k.displayName="DiffCommentsPreferenceToggle")}catch{}var O=i(30459);let G=["layout","comments","whitespace","line-spacing"];function A(e){let t,i,s,d,f,m,u,h,p,g,y,x,v,j,b=(0,r.c)(41),{additionalPreferences:w,invisible:S,defaultHideWhitespace:D,enabledDiffViewSettings:N,onUpdateWhitespace:I,reloadOnSplitPreferenceChange:T,reloadOnWhitespaceChange:P,small:R}=e,$=void 0===N?G:N,F=void 0!==T&&T,A=void 0!==P&&P,{sendAnalyticsEvent:L}=(0,O.s)();b[0]!==L?(t=()=>{L("diff_view.settings.open","DIFF_VIEW_SETTINGS_BUTTON")},b[0]=L,b[1]=t):t=b[1];let V=t;b[2]!==$?(i=$.includes("layout")&&$.includes("comments"),b[2]=$,b[3]=i):i=b[3];let H=i;b[4]!==$?(s=$.includes("line-spacing")||$.includes("whitespace"),b[4]=$,b[5]=s):s=b[5];let B=s;b[6]!==$||b[7]!==B?(d=B&&($.includes("comments")||$.includes("layout")),b[6]=$,b[7]=B,b[8]=d):d=b[8];let W=d,K=R?"small":"medium",M=void 0===S||S?"invisible":"default";return b[9]!==V||b[10]!==M||b[11]!==K?(f=(0,n.jsx)(a.W.Anchor,{children:(0,n.jsx)(o.K,{"aria-label":"Open diff view settings",icon:l.GearIcon,size:K,variant:M,onClick:V})}),b[9]=V,b[10]=M,b[11]=K,b[12]=f):f=b[12],b[13]!==$||b[14]!==F?(m=$.includes("layout")&&(0,n.jsx)(E,{reloadOnChange:F}),b[13]=$,b[14]=F,b[15]=m):m=b[15],b[16]!==H?(u=H&&(0,n.jsx)(c.l.Divider,{}),b[16]=H,b[17]=u):u=b[17],b[18]!==$?(h=$.includes("comments")&&(0,n.jsx)(k,{}),b[18]=$,b[19]=h):h=b[19],b[20]!==W?(p=W&&(0,n.jsx)(c.l.Divider,{}),b[20]=W,b[21]=p):p=b[21],b[22]!==D||b[23]!==$||b[24]!==I||b[25]!==A||b[26]!==B?(g=B?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(C,{defaultHideWhitespace:D,lineSpacingPreferenceAvailable:$.includes("line-spacing"),whitespacePreferenceAvailable:$.includes("whitespace"),onUpdateWhitespace:I,reloadOnChange:A?U:void 0})}):null,b[22]=D,b[23]=$,b[24]=I,b[25]=A,b[26]=B,b[27]=g):g=b[27],b[28]!==w||b[29]!==m||b[30]!==u||b[31]!==h||b[32]!==p||b[33]!==g?(y=(0,n.jsx)(a.W.Overlay,{children:(0,n.jsxs)(c.l,{children:[m,u,h,p,g,w]})}),b[28]=w,b[29]=m,b[30]=u,b[31]=h,b[32]=p,b[33]=g,b[34]=y):y=b[34],b[35]!==f||b[36]!==y?(x=(0,n.jsxs)(a.W,{children:[f,y]}),b[35]=f,b[36]=y,b[37]=x):x=b[37],b[38]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)(_,{}),b[38]=v):v=b[38],b[39]!==x?(j=(0,n.jsxs)(n.Fragment,{children:[x,v]}),b[39]=x,b[40]=j):j=b[40],j}function U(){return window.location.reload()}try{A.displayName||(A.displayName="DiffViewSettings")}catch{}},70719:(e,t,i)=>{i.d(t,{U:()=>s});var n=i(21728),r=i(96379),l=i(97665),a=i(94747),o=i(79472),c=i(21067);function s(e){let t,i,r,c,s=(0,n.c)(10),{onSuccess:f,onError:m}=e,u=(0,l.jE)();return s[0]!==u?(t=async e=>{u.setQueryData((0,o.w$)(),t=>({...t,...e}))},s[0]=u,s[1]=t):t=s[1],s[2]!==f?(i=()=>{f()},s[2]=f,s[3]=i):i=s[3],s[4]!==m?(r=e=>{m(e)},s[4]=m,s[5]=r):r=s[5],s[6]!==t||s[7]!==i||s[8]!==r?(c={mutationFn:d,onMutate:t,onSuccess:i,onError:r},s[6]=t,s[7]=i,s[8]=r,s[9]=c):c=s[9],(0,a.n)(c)}async function d(e){let{commentsPreference:t,lineSpacing:i,splitPreference:n}=e;if(!(0,c.M3)())return;let l={};t&&(l={...l,commentsPreference:t}),i&&(l={...l,lineSpacing:i}),n&&(l={...l,diff:n});let a=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:l}),o=await a.json();if(a.ok)return o;throw Error(o.error||"Unknown error occurred",{cause:a.status})}},70843:(e,t,i)=>{i.d(t,{L:()=>r});var n=i(96540);function r(e){(0,n.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},71833:(e,t,i)=>{i.d(t,{B:()=>l});var n=i(25407),r=i(96379);async function l(e,t){if(!t)return;let i=new FormData;i.set("file_tree_visible",e?"true":"false"),(0,r.DI)((0,n.h6D)(t),{method:"PUT",body:i,headers:{Accept:"application/json"}})}},78252:(e,t,i)=>{i.d(t,{$:()=>o});var n=i(74848),r=i(38621),l=i(5524),a=i(34720);let o=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.l.Divider,{}),(0,n.jsx)(a.t,{eventContext:{prx:!0},leadingVisual:(0,n.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},81355:(e,t,i)=>{i.d(t,{U:()=>o});var n=i(21728),r=i(96540),l=i(61583),a=i(71315);function o(){let e,t,i,o,c=(0,n.c)(6),[s,d]=(0,r.useState)("");c[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{d(((0,l.pd)(a.fV.hash??"")??"").replace("diff-",""))},c[0]=e):e=c[0];let f=e;c[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(window.addEventListener("hashchange",f),f(),()=>{window.removeEventListener("hashchange",f)}),i=[f],c[1]=t,c[2]=i):(t=c[1],i=c[2]),(0,r.useEffect)(t,i);let m=s?`diff-${s}`:"";return c[3]!==s||c[4]!==m?(o={selectedPathDigest:s,selectedFullDiffHash:m,setSelectedHash:d},c[3]=s,c[4]=m,c[5]=o):o=c[5],o}}}]);
//# sourceMappingURL=packages_commits_shared_use-update-user-tree-preference_ts-packages_use-hide-footer_use-hide--80c91a-c90b0b321728.js.map