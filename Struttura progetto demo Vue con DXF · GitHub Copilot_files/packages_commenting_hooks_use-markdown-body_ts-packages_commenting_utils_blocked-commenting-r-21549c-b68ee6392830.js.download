"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_commenting_hooks_use-markdown-body_ts-packages_commenting_utils_blocked-commenting-r-21549c"],{18042:(e,n,a)=>{a.d(n,{k:()=>l});let l={confirmations:{deleteEditHistoryTitle:"Are you sure you want to delete this revision from the history?",deleteEditHistoryContent:"This edit\u2019s content will no longer be visible. This action can not be undone.",deleteEditHistoryConfirmButtonContent:"Remove"},editHistory:{viewingEditTitle:"Viewing edit",deleted:"Deleted",mostRecent:"Most recent",emptyEdit:"This revision does not contain any content.",deletedThisRevision:"deleted this revision",created:"created",edited:"edited",deleteRevisionAriaLabel:"Delete this edit revision",ariaLabel:"Open edits",openEditsButton:"Edits",editedBy:"edited by"}}},19805:(e,n,a)=>{a.r(n),a.d(n,{ReactionViewerRelay:()=>m,ReactionViewerRelayQueryComponent:()=>y,default:()=>g});var l=a(74848);let t=function(){var e={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},n=[e];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionViewerRelayGroups",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:n,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Mannequin",abstractKey:null}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}}();t.hash="4957e34582c8895c7e94b4dc9fa57fc9";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[l],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"4ad1541bb8051d5b7a55a10bbdf54731",metadata:{},name:"ReactionViewerRelayLazyQuery",operationKind:"query",text:null}}}();i.hash="37ec1495c4c7ace448e859305895ad0e";var r=a(96540),s=a(18312),o=a(74547);let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[l],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"c925c985a3bde5cd71f1859404c89567",metadata:{},name:"addReactionMutation",operationKind:"mutation",text:null}}}();d.hash="504ef43df20e9ee96a023f421682e18d";let u=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[l],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"fd20390882af8180d05f0d4a921c00d9",metadata:{},name:"removeReactionMutation",operationKind:"mutation",text:null}}}();u.hash="8e28d0138da52c07bb0e64eda432f580";var c=a(78809);function m({reactionGroups:e,subjectId:n,canReact:a=!0}){let i=(0,s.useRelayEnvironment)(),m=(0,s.useFragment)(t,e),y=(0,r.useCallback)((e,l)=>{a&&(l?function({environment:e,input:{subject:n,content:a},onError:l,onCompleted:t}){(0,s.commitMutation)(e,{mutation:u,variables:{input:{subjectId:n,content:a}},optimisticUpdater:e=>{let l=e.get(n);if(!l)return;let t=l.getLinkedRecords("reactionGroups");if(!t)return;let i=t.findIndex(e=>e.getValue("content")===a),r=t[i];if(r){r.setValue(!1,"viewerHasReacted");let a=`client:${n}:reactionGroups:${i}:reactors(first:5)`,l=e.get(a);if(l){let e=l.getValue("totalCount");l.setValue(e&&e>0?e-1:0,"totalCount")}}},onError:e=>l&&l(e),onCompleted:e=>t&&t(e)})}({environment:i,input:{subject:n,content:e}}):function({environment:e,input:{subject:n,content:a},onError:l,onCompleted:t}){(0,s.commitMutation)(e,{mutation:d,variables:{input:{subjectId:n,content:a}},optimisticUpdater:e=>{let l=e.get(n);if(!l)return;let t=l.getLinkedRecords("reactionGroups");if(!t)return;let i=t.findIndex(e=>e.getValue("content")===a),r=t[i];if(r){r.setValue(!0,"viewerHasReacted");let a=`client:${n}:reactionGroups:${i}:reactors(first:5)`,l=e.get(a);if(l){let e=l.getValue("totalCount");l.setValue(e?e+1:1,"totalCount")}}},onError:e=>l&&l(e),onCompleted:e=>t&&t(e)})}({environment:i,input:{subject:n,content:e}}))},[a,i,n]),g=(m.reactionGroups||[]).filter(e=>!!e).map(e=>({reaction:{content:e.content,viewerHasReacted:e.viewerHasReacted},reactors:e.reactors?.nodes?.map(e=>e&&"%other"!==e.__typename?{login:"Bot"===e.__typename&&e.isCopilot?o.t.copilotDisplayName:e.login,typeName:e.__typename}:{login:"",typeName:"Other"})||[],totalCount:e.reactors?.totalCount||0}));return(0,l.jsx)(c.P,{reactionGroups:g,canReact:a,subjectId:n,onReact:y})}function y({id:e,subjectLocked:n}){let a=(0,s.useLazyLoadQuery)(i,{id:e},{fetchPolicy:"store-or-network"});return a.node?(0,l.jsx)(m,{subjectId:e,reactionGroups:a.node,canReact:!n}):null}let g=m;try{m.displayName||(m.displayName="ReactionViewerRelay")}catch{}try{y.displayName||(y.displayName="ReactionViewerRelayQueryComponent")}catch{}},21086:(e,n,a)=>{a.d(n,{_:()=>d});var l=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownLastEditedBy",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};t.hash="bbab0cb2d43eeaaa0ed5b010868ec7f4";var i=a(57352),r=a(18312),s=a(18042);let o={lastEditInfoContainer:"MarkdownLastEditedBy-module__lastEditInfoContainer--EN_Qz",mutedEditorLink:"MarkdownLastEditedBy-module__mutedEditorLink--pD3Z6"};function d({editInformation:e,includeSeparator:n,forceUnderline:a}){let d=(0,r.useFragment)(t,e);if(!d||!d.viewerCanReadUserContentEdits||!d.lastUserContentEdit||!d.lastUserContentEdit.editor)return null;let{login:u,url:c}=d.lastUserContentEdit.editor;return(0,l.jsxs)("span",{className:o.lastEditInfoContainer,children:[n&&(0,l.jsx)("span",{children:" \xb7 "}),(0,l.jsxs)("span",{children:[`${s.k.editHistory.editedBy} `,(0,l.jsx)(i.A,{href:c,inline:a,className:o.mutedEditorLink,children:u})]})]})}try{d.displayName||(d.displayName="MarkdownLastEditedBy")}catch{}},23656:(e,n,a)=>{a.d(n,{W:()=>q});var l=a(74848);let t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"includesCreatedEdit",storageKey:null},l=[{kind:"Literal",name:"first",value:100}],t={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:l,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[t,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[o,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u,{kind:"InlineFragment",selections:[a,{alias:null,args:l,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[t,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[u,o,d,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"c6113eea560ba83b319c9b30fc5d4f7e",metadata:{},name:"MarkdownEditHistoryViewerQuery",operationKind:"query",text:null}}}();t.hash="58ea81646b217a25de6cfe147936e7f6";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewer_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null}],type:"Comment",abstractKey:"__isComment"};i.hash="fcc1ee717c6a87a4ffdb4f4d9391d55c";var r=a(77430),s=a(76873),o=a(81945),d=a(27042),u=a(5524),c=a(62935),m=a(26607),y=a(96540),g=a(18312),p=a(73454);let k={couldNotDeleteEditRevision:"Failed to delete this revision",couldNotLoad:"Couldn't load"},f={CouldNotFindFallbackErrorContainer:"CouldNotFindFallbackError-module__CouldNotFindFallbackErrorContainer--PNbb0"},h=({retry:e})=>(0,l.jsx)(p.h,{message:k.couldNotLoad,retry:e,className:f.CouldNotFindFallbackErrorContainer});try{h.displayName||(h.displayName="CouldNotFindFallbackError")}catch{}let C=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"diffBefore",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[a,l,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"EditHistoryDialogHeaderFragment"}],type:"UserContentEdit",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[a,l,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[r,i,s],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},i,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null},s],storageKey:null}]},params:{id:"95112ed4d46018d629c28241b711a389",metadata:{},name:"EditHistoryDialogQuery",operationKind:"query",text:null}}}();C.hash="027faee365f58b6aa217941196bb5c80";var E=a(15220),F=a(18042);let b={EditHistoryDialogContainer:"EditHistoryDialog-module__EditHistoryDialogContainer--g7yZt",editHistoryContentScrollable:"EditHistoryDialog-module__editHistoryContentScrollable--Sso3i",contentViewerContainer:"EditHistoryDialog-module__contentViewerContainer--CLOK3",mutedInfoText:"EditHistoryDialog-module__mutedInfoText--C13E3",loadingSkeletonContainer:"EditHistoryDialog-module__loadingSkeletonContainer--ob6sY"},K={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditHistoryDialogHeaderFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null};K.hash="173b0fbf2e248d6057ccd670ace2eea7";var v=a(43258),_=a(38621),w=a(24990),x=a(21373),R=a(10095);let N={deleteEditRevision:"Delete revision"},S={ghostUserLogin:"ghost"},D=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[t,i],storageKey:null},r],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,i,a],storageKey:null},r],storageKey:null}],storageKey:null}]},params:{id:"71452b9f40a7828ac05811d1ad4f821e",metadata:{},name:"deleteUserContentEditMutation",operationKind:"mutation",text:null}}}();D.hash="45e1f3e7d425560f65ef39e8c357794d";let j={EditHistoryDialogHeaderContainer:"EditHistoryDialogHeader-module__EditHistoryDialogHeaderContainer--IRXVB",statusLabel:"EditHistoryDialogHeader-module__statusLabel--Pf9hN",deleteRevisionButton:"EditHistoryDialogHeader-module__deleteRevisionButton--I4tuB",actorDetailsWrapper:"EditHistoryDialogHeader-module__actorDetailsWrapper--hz1cP",userAvatar:"EditHistoryDialogHeader-module__userAvatar--hMoGt",usernameBold:"EditHistoryDialogHeader-module__usernameBold--nCSfu"},H=({queryRef:e,userContentEditId:n})=>{let a=(0,g.useFragment)(K,e),t=(0,g.useRelayEnvironment)(),i=(0,w.S)(),{addToast:r}=(0,v.Y6)(),s=(0,y.useCallback)(async()=>{await i({title:F.k.confirmations.deleteEditHistoryTitle,content:F.k.confirmations.deleteEditHistoryContent,confirmButtonType:"danger",confirmButtonContent:F.k.confirmations.deleteEditHistoryConfirmButtonContent})&&function({environment:e,input:{id:n},onCompleted:a,onError:l}){(0,g.commitMutation)(e,{mutation:D,variables:{input:{id:n}},onCompleted:e=>{null===e.deleteUserContentEdit?l?.():a?.()},onError:e=>l?.(e)})}({environment:t,input:{id:n},onError:()=>{r({type:"error",message:k.couldNotDeleteEditRevision})}})},[r,i,t,n]),o=a.newest||a.deletedAt;return(0,l.jsxs)("div",{className:j.EditHistoryDialogHeaderContainer,children:[a.editor&&(0,l.jsx)(L,{login:a.editor.login,avatarUrl:a.editor.avatarUrl,time:a.editedAt,details:a.firstEdit?F.k.editHistory.created:F.k.editHistory.edited,trailingElement:o?(0,l.jsx)(m.A,{className:j.statusLabel,children:a.deletedAt?F.k.editHistory.deleted:F.k.editHistory.mostRecent}):void 0}),a.viewerCanDelete&&!a.newest&&!a.deletedAt&&(0,l.jsxs)(x.Q,{variant:"danger",size:"small","aria-label":F.k.editHistory.deleteRevisionAriaLabel,onClick:s,className:j.deleteRevisionButton,children:[(0,l.jsx)(R.A,{icon:_.TrashIcon})," ",N.deleteEditRevision]})]})};function L({login:e,avatarUrl:n,details:a,time:t,className:i,trailingElement:s}){let o=!!n&&!!e;return(0,l.jsxs)("div",{className:j.actorDetailsWrapper,children:[(0,l.jsxs)("div",{className:i,children:[o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.r,{src:n,size:16,alt:`@${e}`,className:j.userAvatar}),(0,l.jsx)("span",{className:j.usernameBold,children:e})]}),!o&&(0,l.jsx)("span",{children:e??S.ghostUserLogin}),(0,l.jsxs)("span",{children:[" ",a," "]}),t&&(0,l.jsx)(c.A,{date:new Date(t)})]}),s]})}try{H.displayName||(H.displayName="EditHistoryDialogHeader")}catch{}try{L.displayName||(L.displayName="ActorOperationDetails")}catch{}let T=e=>e.split(/\r?\n/),A=e=>e.split(/\s+/),V=(e,n)=>({groups:[{words:e??"",modification:n}],modification:n}),I={diffContainer:"GroupedTextDiffViewer-module__diffContainer--vSv5M",borderStylingAdded:"GroupedTextDiffViewer-module__borderStylingAdded--vmx_p",borderStylingRemoved:"GroupedTextDiffViewer-module__borderStylingRemoved--nuxu4",borderStylingChanged:"GroupedTextDiffViewer-module__borderStylingChanged--SGyL6",wordStylingAdded:"GroupedTextDiffViewer-module__wordStylingAdded--WmYJz",wordStylingRemoved:"GroupedTextDiffViewer-module__wordStylingRemoved--n4HZo",diffLine:"GroupedTextDiffViewer-module__diffLine--yfbRY"},M=e=>{switch(e){case"ADDED":return{open:"[+]",close:"[/+]"};case"REMOVED":return{open:"[-]",close:"[/-]"}}return{open:"",close:""}},B=e=>"ADDED"===e||"REMOVED"===e,U=({groups:e,modification:n})=>{let a=e.map(e=>e.words).join(" ");return(0,l.jsxs)("span",{className:I.diffLine,children:["EDITED"===n&&e?.map((e,n)=>(0,l.jsxs)(l.Fragment,{children:[B(e.modification)&&(0,l.jsx)("span",{className:"sr-only",children:M(e.modification).open}),(0,l.jsx)("span",{className:(e=>{switch(e){case"ADDED":return I.wordStylingAdded;case"REMOVED":return I.wordStylingRemoved;case"UNCHANGED":return""}})(e.modification),children:`${0===n?"":" "}${e.words}`}),B(e.modification)&&(0,l.jsx)("span",{className:"sr-only",children:M(e.modification).close})]},n-1)),"EDITED"!==n&&e.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"sr-only",children:M(n).open}),(0,l.jsx)("span",{children:a}),(0,l.jsx)("span",{className:"sr-only",children:M(n).close})]}),0===e.length&&(0,l.jsx)("br",{})]})},G=({before:e,after:n})=>{let a=function({before:e,after:n}){let a=e?T(e):[],l=n?T(n):[],t=[];for(let e=0;e<a.length||e<l.length;e++){let n=a[e],i=l[e];t.push(function(e,n){let a=e?A(e):[],l=n?A(n):[];if(0===a.length&&0===l.length||e===n)return V(e,"UNCHANGED");if(0===a.length)return V(n,"ADDED");if(0===l.length)return V(e,"REMOVED");let t=[],i={words:"",modification:"UNCHANGED"},r={words:"",modification:"ADDED"},s={words:"",modification:"REMOVED"};for(let e=0;e<a.length||e<l.length;e++){let n=a[e],o=l[e];n===o?(i.words=`${i.words}${0===i.words.length?"":" "}${n}`,""!==r.words&&(t.push(r),r={words:"",modification:"ADDED"}),""!==s.words&&(t.push(s),s={words:"",modification:"REMOVED"})):(""!==i.words&&(void 0!==n||void 0!==o)&&(t.push(i),i={words:"",modification:"UNCHANGED"}),void 0!==n&&(s.words=`${s.words}${0===s.words.length?"":" "}${n}`),void 0!==o&&(r.words=`${r.words}${0===r.words.length?"":" "}${o}`))}return""!==r.words&&t.push(r),""!==s.words&&t.push(s),""!==i.words&&t.push(i),{groups:t,modification:"EDITED"}}(n,i))}return{lines:t}}({before:e,after:n});return(0,l.jsx)("div",{className:I.diffContainer,children:a.lines.map((e,n)=>(0,l.jsx)("div",{className:(e=>{switch(e){case"ADDED":return I.borderStylingAdded;case"REMOVED":return I.borderStylingRemoved;case"EDITED":return I.borderStylingChanged;case"UNCHANGED":return""}})(e.modification),children:(0,l.jsx)(U,{...e})},n))})};try{U.displayName||(U.displayName="LineDiffViewer")}catch{}try{G.displayName||(G.displayName="GroupedTextDiffViewer")}catch{}let O=({userContentEditId:e,onClose:n})=>(0,l.jsx)(E.l,{renderBody:()=>(0,l.jsx)(Q,{userContentEditId:e}),onClose:n,title:F.k.editHistory.viewingEditTitle,width:"xlarge",height:"auto",className:b.EditHistoryDialogContainer}),Q=({userContentEditId:e})=>{let[n,a]=(0,g.useQueryLoader)(C);return((0,y.useEffect)(()=>{a({id:e})},[a,e]),n)?(0,l.jsx)(y.Suspense,{fallback:(0,l.jsx)(P,{}),children:(0,l.jsx)(s.A,{onRetry:()=>a({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,l.jsx)(h,{retry:e}),children:(0,l.jsx)($,{queryRef:n,userContentEditId:e})})}):(0,l.jsx)(P,{})},$=({queryRef:e,userContentEditId:n})=>{let a=(0,g.usePreloadedQuery)(C,e).node;if(!a)return(0,l.jsx)(P,{});let t=!a.diffBefore&&!a.diff;return(0,l.jsxs)("div",{className:b.editHistoryContentScrollable,children:[(0,l.jsx)(H,{queryRef:a,userContentEditId:n}),(0,l.jsxs)("div",{className:b.contentViewerContainer,children:[!a.deletedAt&&!t&&(0,l.jsx)(G,{before:a.diffBefore??void 0,after:a.diff??void 0}),!a.deletedAt&&t&&(0,l.jsx)("span",{className:b.mutedInfoText,children:F.k.editHistory.emptyEdit}),a.deletedAt&&(0,l.jsx)(L,{login:a.deletedBy?.login,details:F.k.editHistory.deletedThisRevision,time:a.deletedAt,className:b.mutedInfoText})]})]})};function P(){return(0,l.jsxs)("div",{className:b.loadingSkeletonContainer,children:[(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{O.displayName||(O.displayName="EditHistoryDialog")}catch{}try{Q.displayName||(Q.displayName="EditContent")}catch{}try{$.displayName||($.displayName="EditContentInternal")}catch{}try{P.displayName||(P.displayName="EditContentLoading")}catch{}let z={editHistoryItemMetadata:"MarkdownEditHistoryViewer-module__editHistoryItemMetadata--oUxNy",editHistoryContainer:"MarkdownEditHistoryViewer-module__editHistoryContainer--l0A8s",editHistoryMenuButton:"MarkdownEditHistoryViewer-module__editHistoryMenuButton--GyyK7",scrollableEditHistoryList:"MarkdownEditHistoryViewer-module__scrollableEditHistoryList--PDigD",editorAvatar:"MarkdownEditHistoryViewer-module__editorAvatar--HeVVG",editorUsername:"MarkdownEditHistoryViewer-module__editorUsername--_tgsX",loadingSkeletonContainer:"MarkdownEditHistoryViewer-module__loadingSkeletonContainer--K3qvZ"};function q({editHistory:e}){let n=(0,g.useFragment)(i,e),[a,t]=(0,y.useState)(!1),[r,s]=(0,y.useState)("");return n&&n.viewerCanReadUserContentEdits&&n.lastEditedAt?(0,l.jsxs)("div",{className:z.editHistoryContainer,children:[(0,l.jsxs)(d.W,{children:[(0,l.jsx)(d.W.Button,{variant:"invisible",size:"small","aria-label":F.k.editHistory.ariaLabel,className:z.editHistoryMenuButton,children:F.k.editHistory.openEditsButton}),(0,l.jsx)(d.W.Overlay,{width:"auto",children:(0,l.jsx)(W,{setIsEditHistoryDialogOpen:t,setSelectedId:s,editHistoryId:n.id,lastEditedAt:n.lastEditedAt})})]}),a&&(0,l.jsx)(O,{onClose:()=>t(!1),userContentEditId:r})]}):null}let W=({editHistoryId:e,lastEditedAt:n,...a})=>{let[i,r]=(0,g.useQueryLoader)(t);return((0,y.useEffect)(()=>{r({id:e},{fetchPolicy:"network-only"})},[e,r,n]),i)?(0,l.jsx)(y.Suspense,{fallback:(0,l.jsx)(Y,{}),children:(0,l.jsx)(s.A,{onRetry:()=>r({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,l.jsx)(h,{retry:e}),children:(0,l.jsx)(J,{queryRef:i,...a})})}):(0,l.jsx)(Y,{})},J=({setIsEditHistoryDialogOpen:e,setSelectedId:n,queryRef:a})=>{let i=(0,g.usePreloadedQuery)(t,a);if(!i.node?.userContentEdits)return(0,l.jsx)(Y,{});let s=i.node.userContentEdits.totalCount;return(0,l.jsx)(u.l,{className:z.scrollableEditHistoryList,children:(0,l.jsxs)(u.l.Group,{children:[(0,l.jsx)(u.l.GroupHeading,{children:`Edited ${s-1} time${s>2?"s":""}`}),i.node.userContentEdits.edges?.map((a,t)=>{let o=a?.node;if(!o?.editor)return null;let d=i.node?.includesCreatedEdit&&t===s-1;return(0,l.jsxs)(u.l.Item,{onSelect:()=>{n(o.id),e(!0)},children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(r.r,{src:o.editor.avatarUrl,size:16,alt:`@${o.editor.login}`,className:z.editorAvatar})}),(0,l.jsx)("span",{className:z.editorUsername,children:o.editor.login}),(0,l.jsxs)(u.l.Description,{truncate:!0,className:z.editHistoryItemMetadata,children:[d&&(0,l.jsx)("div",{title:"",children:F.k.editHistory.created}),(0,l.jsx)(c.A,{date:new Date(o.editedAt)})]}),(0===t||o.deletedAt)&&(0,l.jsx)(u.l.TrailingVisual,{children:(0,l.jsx)(m.A,{children:0===t?F.k.editHistory.mostRecent:F.k.editHistory.deleted})})]},o.id)})]})})};function Y(){return(0,l.jsxs)("div",{className:z.loadingSkeletonContainer,children:[(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{q.displayName||(q.displayName="MarkdownEditHistoryViewer")}catch{}try{W.displayName||(W.displayName="EditHistoryActionMenuContent")}catch{}try{J.displayName||(J.displayName="EditHistoryActionMenuContentInternal")}catch{}try{Y.displayName||(Y.displayName="EditHistoryLoading")}catch{}},38829:(e,n,a)=>{a.d(n,{f:()=>i});let l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"},{args:null,kind:"FragmentSpread",name:"MarkdownLastEditedBy"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l],storageKey:null},l],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d72649dd9392589f64dd4570b992b900",metadata:{},name:"useMarkdownEditHistoryViewerQueryQuery",operationKind:"query",text:null}}}();l.hash="4c6ffc38d14bcfbd11af3056fe1ca692";var t=a(18312);function i({id:e}){let n=(0,t.useLazyLoadQuery)(l,{id:e});return n.node?n.node:null}},43617:(e,n,a)=>{a.d(n,{Q:()=>o});var l=a(74848),t=a(29731),i=a(34164),r=a(35220);let s={container:"MainContent-module__container--NyRpm",inner:"MainContent-module__inner--qD0Pb",compact:"MainContent-module__compact--S3brA"};function o({children:e}){let{variant:n}=(0,r.e)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{...(0,t.G)("list-view-item-main-content"),className:s.container,children:(0,l.jsx)("div",{className:(0,i.$)(s.inner,"compact"===n&&s.compact),children:e})})})}try{o.displayName||(o.displayName="ListItemMainContent")}catch{}},60912:(e,n,a)=>{a.d(n,{P:()=>s});var l=a(74848),t=a(34164);let i={reason:"readonly-comment-box-module__reason--QIvzf"},r={ReadonlyCommentBoxContainer:"ReadonlyCommentBox-module__ReadonlyCommentBoxContainer--qNC85",centeredContent:"ReadonlyCommentBox-module__centeredContent--bVUCp"};function s({reason:e,icon:n,...a}){return(0,l.jsx)("div",{className:(0,t.$)("blankslate",r.ReadonlyCommentBoxContainer),...a,children:(0,l.jsxs)("div",{className:r.centeredContent,children:[n&&(0,l.jsx)(n,{size:24}),(0,l.jsx)("div",{className:i.reason,children:e})]})})}try{s.displayName||(s.displayName="ReadonlyCommentBox")}catch{}},61423:(e,n,a)=>{a.d(n,{i:()=>t});var l=a(96901);function t(e,n,a=null,i="issue"){return e?l.k.repoArchived:n?l.k.issueLockedToCollaborators:a||l.k.canNotComment(i)}},74547:(e,n,a)=>{a.d(n,{t:()=>l});let l={react:"React",reactionsUnavailable:"Reactions are currently unavailable",copilotDisplayName:"Copilot"}},76873:(e,n,a)=>{a.d(n,{A:()=>d});var l=a(50467),t=a(74848),i=a(96540),r=a(38102),s=a(49936);let o=e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Error:"}),(0,t.jsx)("button",{onClick:e,children:"Retry"})]});let BasicPreloadedQueryBoundary=class BasicPreloadedQueryBoundary extends i.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){let n=e.shouldSkipReport??!1,a={critical:this.props.critical||!1,reactAppName:this.props.appName};n||(0,r.N7)(e,a)}render(){let{children:e}=this.props,{error:n}=this.state,a=this.props.fallback||o;return n?a(this._retry,n):e}constructor(...e){super(...e),(0,l._)(this,"state",{error:null}),(0,l._)(this,"_retry",()=>{this.props.onRetry(),this.setState({error:null})})}};function d(e){let n=(0,i.useContext)(s.I),a=e.appName||n?.appName;return(0,t.jsx)(BasicPreloadedQueryBoundary,{...e,appName:a})}try{d.displayName||(d.displayName="PreloadedQueryBoundary")}catch{}},78809:(e,n,a)=>{a.d(n,{P:()=>C});var l=a(74848),t=a(11683),i=a(45800),r=a(31604),s=a(5524),o=a(96540),d=a(11196),u=a(21373),c=a(34164),m=a(79866);let y={reactionToggleButton:"ReactionButton-module__reactionToggleButton--axnvQ",reactionToggleButtonReacted:"ReactionButton-module__reactionToggleButtonReacted--TgLue"};function g({reactionGroup:e,disabled:n,onReact:a}){let{content:t,viewerHasReacted:i}=e.reaction,{reactors:r,totalCount:s}=e,g=(0,o.useId)();if(0===s)return null;let p=r.flatMap(e=>"Other"!==e.typeName?[e.login]:[]),k=(0,m.JQ)(t,i),f=(0,m.fj)(t,s);return(0,l.jsx)(d.m,{text:(0,m.Js)(p,s),type:"description",direction:"ne",children:(0,l.jsxs)(u.Q,{size:"small","aria-label":f,role:"switch","aria-checked":i,leadingVisual:()=>(0,l.jsx)(l.Fragment,{children:m.qG[t]}),onClick:()=>a(t,i),disabled:n,className:(0,c.$)(y.reactionToggleButton,i&&y.reactionToggleButtonReacted),"aria-describedby":g,children:[(0,l.jsx)("span",{className:"sr-only",id:g,children:k}),s]})})}try{g.displayName||(g.displayName="ReactionButton")}catch{}var p=a(87448);let k={ReactionsMenuOption:"ReactionsMenuItem-module__ReactionsMenuOption--uvJoP"};function f({onReact:e,reaction:n}){let{content:a,viewerHasReacted:t}=n;return(0,l.jsx)(p.lF.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},backgroundColor:t?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":t,onSelect:()=>e(a,t),className:k.ReactionsMenuOption,children:m.qG[a]},a)}try{f.displayName||(f.displayName="ReactionsMenuItem")}catch{}var h=a(97911);function C({reactionGroups:e,canReact:n=!0,onReact:a}){let[d,u]=(0,o.useState)(!1),c=e.length>0,{containerRef:m}=(0,i.G)({bindKeys:t.z0.HomeAndEnd|t.z0.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,l.jsxs)("div",{role:"toolbar","aria-label":"Reactions",ref:m,className:"d-flex gap-1 flex-wrap",children:[n&&(0,l.jsx)(r.T,{open:d,onOpen:()=>u(c),onClose:()=>u(!1),anchorRef:m,focusZoneSettings:{bindKeys:t.z0.ArrowAll|t.z0.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,l.jsx)(h.N,{renderAnchorProps:e,reactionsAvailable:c}),children:(0,l.jsx)(s.l,{className:"d-flex flex-row p-1 gap-1",role:"menu","aria-orientation":"horizontal",children:(e||[]).map((e,n)=>(0,l.jsx)(f,{reaction:e.reaction,onReact:(e,n)=>{a(e,n),u(!1)}},n))})}),(e||[]).map((e,n)=>(0,l.jsx)(g,{reactionGroup:e,onReact:(e,n)=>a(e,n)},n))]})}try{C.displayName||(C.displayName="ReactionViewerBase")}catch{}},79866:(e,n,a)=>{a.d(n,{JQ:()=>i,Js:()=>t,fj:()=>r,qG:()=>l});let l={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F604}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function t(e,n){if(0===e.length||0===n)return"";let a=e.slice(0);if(1===a.length)return a[0];if(2===a.length)return a.join(" and ");n>e.length&&a.push(`${n-e.length} more`);let l=a.pop();return a.push(`${a.pop()} and ${l}`),a.join(", ")}function i(e,n){return`${n?"Unreact":"React"} with ${l[e]}`}function r(e,n){return`${l[e]} ${n} reaction${1===n?"":"s"}`}},81034:(e,n,a)=>{a.d(n,{x:()=>y});var l=a(62559),t=a(34267),i=a(79634),r=a(57019),s=a(40104),o=a(96540),d=a(96760);let u={focusCommentComposer:"r"};var c=a(81156),m=a(20459);function y({commentBoxRef:e,markdownComposerRef:n,onChange:a,onCancel:y,referenceId:g,hasSingleKeyShortcutEnabled:p,insidePortal:k}){let[f,h]=(0,s.Fo)(c.t.localStorageKeys.issueNewComment("viewer",g),""),[C,E]=(0,o.useState)(f),F=(0,o.useMemo)(()=>(0,l.KG)(C),[C]),b=(0,i.X)(),K=void 0!==p?p:b?.current_user_settings?.use_single_key_shortcut||!1,{anyItemPickerOpen:v}=(0,t.t)(),_=(0,o.useCallback)(e=>{E(e),h(e)},[h]),w=(0,o.useCallback)(e=>{_(e),a(),""===e&&y()},[_,y,a]);(0,o.useImperativeHandle)(n,()=>({appendText:e=>{w(`${C}

${e}`)},setText:e=>{w(e)},focus:()=>{e.current?.focus()}}),[w,C,e]),(0,o.useEffect)(()=>E(C),[C,E]);let x=(0,o.useCallback)(n=>{if(!(!K||v())&&e&&e.current){n.preventDefault();let a=window.getSelection();if(a&&a.anchorNode){let e={anchorNode:a.anchorNode,range:a.getRangeAt(0)},n=a.anchorNode.parentElement,l=n?.closest((0,d.Sp)(d.mU.issueComment))??n?.closest((0,d.Sp)(d.mU.issueBody));if(l&&l instanceof HTMLDivElement){let n=(0,m.E)(l,e);_(`${n}`)}}e.current.scrollIntoView(),e.current.focus()}},[v,_,e,K]),R=(0,o.useCallback)(()=>{e.current?e.current.reset():E(""),h(void 0)},[e,h]);return(0,r._)([u.focusCommentComposer],x,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:k}),{handleMarkdownBodyChanged:w,markdownValidationResult:F,markdownBody:C,resetMarkdownBody:R}}},97911:(e,n,a)=>{a.d(n,{N:()=>d});var l=a(74848),t=a(38621),i=a(11196),r=a(26108),s=a(74547);let o={ReactionViewerAnchorButton:"ReactionViewerAnchor-module__ReactionViewerAnchorButton--kb52r"};function d({renderAnchorProps:e,reactionsAvailable:n}){return(0,l.jsx)(i.m,{text:n?s.t.react:s.t.reactionsUnavailable,delay:n?"long":"short",direction:"n",children:(0,l.jsx)(r.K,{size:"small",icon:t.SmileyIcon,...e,"aria-label":s.t.react,inactive:!n,"aria-labelledby":void 0,className:o.ReactionViewerAnchorButton})})}try{d.displayName||(d.displayName="ReactionViewerAnchor")}catch{}},98994:(e,n,a)=>{a.d(n,{U:()=>o});var l=a(74848),t=a(29731),i=a(34164),r=a(35220);let s={container:"Description-module__container--Zwqe8",compact:"Description-module__compact--Lw6nW"};function o({children:e,style:n,className:a}){let{variant:o}=(0,r.e)();return(0,l.jsx)("div",{...(0,t.G)("list-view-item-description"),className:(0,i.$)(s.container,"compact"===o&&s.compact,a),style:n,children:e})}try{o.displayName||(o.displayName="ListItemDescription")}catch{}}}]);
//# sourceMappingURL=packages_commenting_hooks_use-markdown-body_ts-packages_commenting_utils_blocked-commenting-r-21549c-032a1081f8e8.js.map