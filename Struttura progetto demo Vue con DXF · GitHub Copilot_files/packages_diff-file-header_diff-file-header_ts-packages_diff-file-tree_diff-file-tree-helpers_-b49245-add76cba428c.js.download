"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_diff-file-header_diff-file-header_ts-packages_diff-file-tree_diff-file-tree-helpers_-b49245"],{8934:(e,t,r)=>{r.d(t,{x:()=>s});var i=r(74848),n=r(21728),l=r(13523),a=r(96540),o=r(54571);let s=(0,a.forwardRef)(function(e,t){let r,a,s,c,f,u,m=(0,n.c)(13);m[0]!==e?({children:r,src:s,...a}=e,m[0]=e,m[1]=r,m[2]=a,m[3]=s):(r=m[1],a=m[2],s=m[3]),m[4]===Symbol.for("react.memo_cache_sentinel")?(c=[],m[4]=c):c=m[4];let[h]=(0,o.I)(d,!0,c);return m[5]!==h||m[6]!==s?(f=h?{}:{src:s,"data-nonce":(0,l.M1)()},m[5]=h,m[6]=s,m[7]=f):f=m[7],m[8]!==r||m[9]!==a||m[10]!==t||m[11]!==f?(u=(0,i.jsx)("include-fragment",{...a,ref:t,...f,children:r}),m[8]=r,m[9]=a,m[10]=t,m[11]=f,m[12]=u):u=m[12],u});try{s.displayName||(s.displayName="IncludeFragment")}catch{}function d(){return!1}},11738:(e,t,r)=>{r.d(t,{z:()=>a});var i=r(74848),n=r(96540);let l={CompactCommentInputContainer:"CompactCommentButton-module__CompactCommentInputContainer--mPD5I"},a=(0,n.forwardRef)(({onClick:e,id:t,children:r},n)=>(0,i.jsx)("button",{type:"button",id:t,ref:n,onClick:e,className:l.CompactCommentInputContainer,children:r}));a.displayName="CompactCommentButton"},12918:(e,t,r)=>{r.d(t,{Gx:()=>o});var i,n=r(74848),l=r(21728),a=r(21537);function o(e){return(0,a.Y)(e)?(0,a.t6)(e).map(e=>{let t=a.A0.get(e);return t?`<span class="hidden-unicode-replacement">${t}</span>`:e}).join(""):null}try{(i=function(e){let t,r=(0,l.c)(2),{char:i}=e;return r[0]!==i?(t=(0,n.jsx)("span",{className:"hidden-unicode-replacement padded",children:i}),r[0]=i,r[1]=t):t=r[1],t}).displayName||(i.displayName="HiddenUnicodeCharacter")}catch{}},17998:(e,t,r)=>{r.d(t,{k:()=>s});var i=r(74848),n=r(77430),l=r(87448),a=r(10436);function o({iconColor:e,icon:t,size:r=12,backgroundColor:n="fg.onEmphasis",absolute:o=!0,backgroundSx:s,backgroundClassName:d}){let c,f;return 12===r?(c="10px",f="1px"):20===r?(c="16px",f="2px"):(c="16px",f="4px"),(0,i.jsxs)(l.az,{sx:{display:"flex",borderRadius:"100px",...o?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...s},className:d,children:[(0,i.jsx)(l.az,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:c,height:c,left:f,top:f,backgroundColor:n}}),(0,i.jsx)(a.m4,{icon:t,size:r,sx:{color:e,position:"relative"}})]})}try{o.displayName||(o.displayName="StatusIcon")}catch{}function s({zIndex:e,altText:t,hovercardUrl:r,src:a,square:s,icon:d,iconColor:c,backgroundColor:f,backgroundSx:u,backgroundClassName:m,className:h,sx:p,size:x=20}){return(0,i.jsxs)(l.az,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...p},className:h,children:[(0,i.jsx)(n.r,{alt:t,"data-hovercard-url":r,size:x,square:s,src:a}),(0,i.jsx)(o,{icon:d,iconColor:c,size:12,backgroundColor:f,backgroundClassName:m,backgroundSx:u})]})}try{s.displayName||(s.displayName="StatusAvatar")}catch{}},18799:(e,t,r)=>{r.d(t,{sI:()=>i});let i={Visible:"visible",Collapsed:"collapsed"}},21537:(e,t,r)=>{r.d(t,{A0:()=>a,TA:()=>d,Y:()=>c,_n:()=>f,rE:()=>o,t6:()=>s});let i=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/u,n=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/gu,l=/([\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F})/gu,a=new Map(Object.entries({"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069","\u{E0001}":"U+E0001","\u{E007F}":"U+E007F"}));function o(e){return`<span class="hidden-unicode-replacement" data-code-text="${e}"></span>`}function s(e){return e.split(l)}function d(e){return c(e)?e.replaceAll(n,e=>a.get(e)??""):e}function c(e){return i.test(e)}function f(e){return a.get(e)}},33671:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var i=r(74848),n=r(54571),l=r(72511),a=r(69726),o=r(34164),s=r(96540);let d={ERROR:"ERROR",LOADING:"LOADING",LOADED:"LOADED",READY:"READY"};function c(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function f(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}let u={FileRendererWrapper:"FileRendererBlob-module__FileRendererWrapper--SxJRI",FileRendererViewport:"FileRendererBlob-module__FileRendererViewport--VgIf1",FileRendererViewportNonError:"FileRendererBlob-module__FileRendererViewportNonError--cZ29b",FileRendererViewportReady:"FileRendererBlob-module__FileRendererViewportReady--seGRC",loadingIndicator:"FileRendererBlob-module__loadingIndicator--SraxA",fileContentFrame:"FileRendererBlob-module__fileContentFrame--r1d91",fileContentFrameNotReady:"FileRendererBlob-module__fileContentFrameNotReady--mMJW4",errorMessageHeading:"FileRendererBlob-module__errorMessageHeading--qTuWN"};function m({identityUuid:e,size:t,type:r,url:m,iframeClassName:p,viewportClassName:x}){let[g]=(0,n.I)(()=>window.location.origin,"https://www.github.com",[]),y=new URL(m,g).origin,{renderState:b,errorMsg:N,iFrameRef:_,containerRef:v}=function(e,t){let[r,i]=function(e){let[t,r]=(0,s.useState)(e),i=(0,s.useRef)(t);return[i,e=>{i.current=e,r(e)}]}(d.LOADING),n=(0,s.useRef)(null),l=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(0,s.useRef)({untimed:!0}),u=(0,s.useCallback)(r=>(function(e,t,r,i,n,l,a,o){if(e.origin!==t)return;let s=function(e){var t;let r=e.data;if(!r)return null;if("string"==typeof r)try{r=JSON.parse(r)}catch{return null}return"object"==typeof(t=r)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?r:null}(e);if(!s)return void a(d.ERROR);if(s.identity!==r)return;let c=s.body,u=null!=s.payload?s.payload:void 0,m=i.current?.contentWindow;switch(c){case"hello":(l.current??{untimed:!0}).hello=Date.now(),f(m,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),f(m,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":u&&o(u.error??null),a(d.ERROR);break;case"loading":a(d.LOADING);break;case"loaded":a(d.LOADED);break;case"ready":u&&"number"==typeof u.height&&n.current&&(n.current.style.height=`${u.height}px`),a(d.READY);break;case"resize":u&&"number"==typeof u.height&&n.current&&(n.current.style.height=`${u.height}px`);break;case"code_rendering_service:container:get_size":f(m,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:n.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!i.current||!n.current)return;!function(e,t){let r=e.getAttribute("data-content");if(!r)return;let i={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(r).data,width:t.getBoundingClientRect().width}}};f(e.contentWindow,i)}(i.current,n.current)}})(r,e,t,l,a,o,i,e=>n.current=e),[e,i,t]);return(0,s.useEffect)(()=>{c(o.current);let e=e=>{(r.current===d.LOADING||r.current===d.LOADED)&&(!e||o.current.hello)&&i(d.ERROR)};return o.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{c(o.current)}},[r,i]),(0,s.useEffect)(()=>(window.addEventListener("message",u),()=>window.removeEventListener("message",u)),[u]),{renderState:r.current,errorMsg:n.current,iFrameRef:l,containerRef:a}}(y,e);return"ipynb"===r&&t>3e7||t>2e8?(0,i.jsx)(l.A,{variant:"danger",children:"Sorry, this is too big to display."}):(0,i.jsx)("div",{className:u.FileRendererWrapper,children:(0,i.jsxs)("div",{"data-hpc":!0,"data-host":y,"data-type":r,ref:v,className:(0,o.$)(u.FileRendererViewport,{[u.FileRendererViewportNonError]:b!==d.ERROR,[u.FileRendererViewportReady]:b===d.READY},x),children:[b===d.ERROR?(0,i.jsx)(h,{error:N}):b!==d.READY?(0,i.jsx)(a.A,{size:"large",className:u.loadingIndicator}):null,b!==d.ERROR&&(0,i.jsx)("iframe",{ref:_,src:`${m}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",name:e,title:"File display",className:(0,o.$)(u.fileContentFrame,{[u.fileContentFrameNotReady]:b!==d.READY},p),children:"Viewer requires iframe."})]})})}function h({error:e}){if(!e)return(0,i.jsx)(l.A,{variant:"danger",children:"Unable to render code block"});let t=e.split(`
`);return(0,i.jsxs)(l.A,{variant:"danger",children:[(0,i.jsx)("p",{className:u.errorMessageHeading,children:"Error rendering embedded code"}),(0,i.jsx)("p",{children:t.map((e,t)=>(0,i.jsxs)(s.Fragment,{children:[e,(0,i.jsx)("br",{})]},`error-line-${t}`))})]})}try{m.displayName||(m.displayName="FileRendererBlob")}catch{}try{h.displayName||(h.displayName="FileRendererErrorMessage")}catch{}},34720:(e,t,r)=>{r.d(t,{t:()=>c});var i=r(74848),n=r(39619),l=r(51213),a=r(35247),o=r(79064),s=r(53419),d=r(5524);let c=({fileDiffReference:e,leadingVisual:t,eventContext:r,afterSelect:c})=>(0,i.jsxs)(d.l.Item,{onSelect:()=>{a.W.copilotRedirectDiffViewToImmersive?((0,s.BI)("copilot.file-diff.discuss",{target:"file-diff",mode:"immersive"}),o.Jt.setCurrentReferences(null,[e]),o.Jt.setCopilotDiffReferences(e),window.location.href="/copilot"):((0,s.BI)("copilot.file-diff.discuss",{target:"file-diff",mode:"assistive",...r}),(0,n.qR)({intent:l.wh.conversation,references:[e]}),c?.())},children:[t&&(0,i.jsx)(d.l.LeadingVisual,{children:t}),"Ask about this diff"]});try{c.displayName||(c.displayName="DiffLinesDiscussMenuItem")}catch{}},35311:(e,t,r)=>{r.d(t,{QC:()=>u,s2:()=>m,wH:()=>o,xY:()=>f});var i=r(35750),n=r(18150),l=r(50467),a=r(56051);function o(e,t){return e.startsWith(t)&&e!==t?-1:t.startsWith(e)&&e!==t?1:e<t?-1:+(e>t)}function s(e,t){return o(e.name,t.name)}function d(e,t){return o(e.fileName,t.fileName)}let FileNode=class FileNode{constructor(e,t){(0,l._)(this,"diff",void 0),(0,l._)(this,"filePath",void 0),(0,l._)(this,"fileName",void 0),(0,l._)(this,"directoryParts",void 0),(0,l._)(this,"sortOrder",void 0),this.diff=e,this.filePath=e.path;let r=this.filePath.split("/");this.fileName=r[r.length-1],this.directoryParts=r.slice(0,r.length-1),this.sortOrder=t}};var c=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e,t){let r=(0,i._)(this,c).get(e);if(!r){let n=this.path?`${this.path}/`:"";r=new DirectoryNode(e,`${n}${e}`,t),this.directories.push(r),(0,i._)(this,c).set(e,r)}return r}sort(){for(let e of(this.directories.sort(s),this.files.sort(d),this.directories))e.sort()}constructor(e,t,r){(0,l._)(this,"directories",[]),(0,l._)(this,"files",[]),(0,n._)(this,c,{writable:!0,value:new Map}),(0,l._)(this,"name",void 0),(0,l._)(this,"path",void 0),(0,l._)(this,"sortOrder",void 0),this.name=e,this.path=t,this.sortOrder=r}};function f(e){let t=new DirectoryNode("","",Number.MAX_SAFE_INTEGER);for(let r of e.map((e,t)=>new FileNode(e,t))){let e=t;for(let t of r.directoryParts)(e=e.getOrCreateDirectory(t,r.sortOrder)).sortOrder=Math.min(e.sortOrder,r.sortOrder);e.files.push(r)}return function e(t){for(let r of t.directories)e(r);let r=t.directories.map(e=>e.sortOrder),i=t.files.map(e=>e.sortOrder);t.sortOrder=Math.min(t.sortOrder,...r,...i)}(t),t.sort(),t}function u(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let r=t?.lastIndexOf(".");return t?!r||r<0?a.F7:`.${t.substring(r+1)}`:""}function m(e){let t={};return e.map(e=>{let r=u(e.path);void 0!==t[r]?t[r]+=1:t[r]=1}),t}},50307:(e,t,r)=>{r.d(t,{e:()=>c});var i=r(74848),n=r(39619),l=r(51213),a=r(35247),o=r(79064),s=r(53419),d=r(5524);let c=({fileDiffReference:e,eventContext:t,afterSelect:r})=>(0,i.jsx)(d.l.Item,{onSelect:()=>{a.W.copilotRedirectDiffViewToImmersive?((0,s.BI)("copilot.file-diff.explain",{target:"file-diff",mode:"immersive"}),o.Jt.setCopilotDiffReferences(e),o.Jt.setEntrypointMessage("Explain",[e]),window.location.href="/copilot"):((0,s.BI)("copilot.file-diff.explain",{target:"file-diff",mode:"assistive",...t}),(0,n.qR)({content:"Explain",intent:l.wh.explainFileDiff,references:[e]}),r?.())},children:"Explain"});try{c.displayName||(c.displayName="DiffLinesExplainMenuItem")}catch{}},50443:(e,t,r)=>{r.d(t,{i:()=>s});var i=r(74848),n=r(39619),l=r(53419),a=r(43258),o=r(5524);let s=({fileDiffReference:e,eventContext:t,afterSelect:r})=>{let{addToast:s}=(0,a.Y6)();return(0,i.jsx)(o.l.Item,{onSelect:()=>{(0,n.Oc)(e),s({message:"Reference added to thread",type:"success"}),(0,l.BI)("copilot.file-diff.add",t),r?.()},children:"Attach to current thread"})};try{s.displayName||(s.displayName="DiffLinesAttachMenuItem")}catch{}},50683:(e,t,r)=>{r.d(t,{B:()=>b,C:()=>N});var i=r(74848),n=r(21728),l=r(34164),a=r(38621),o=r(26108),s=r(57352),d=r(59121),c=r(11196),f=r(59523),u=r(91618),m=r(96540),h=r(98755);let p={"diff-file-header":"DiffFileHeader-module__diff-file-header--Z8VIs",collapsed:"DiffFileHeader-module__collapsed--bTqtX","file-name":"DiffFileHeader-module__file-name--ryaCb","file-path-section":"DiffFileHeader-module__file-path-section--GaFOf","hide-on-mobile":"DiffFileHeader-module__hide-on-mobile--dxRfz","hide-on-small":"DiffFileHeader-module__hide-on-small--EeWjN","container-flex-wrap":"DiffFileHeader-module__container-flex-wrap--iGS3L","container-flex-order":"DiffFileHeader-module__container-flex-order--YkBrw","container-flex-order-reverse":"DiffFileHeader-module__container-flex-order-reverse--BBk7h"};var x=r(66358);let g=new Set;function y(e){let t,r,l=(0,n.c)(13),{newPath:o,oldPath:s,status:d}=e;l[0]!==o?(t=(0,i.jsxs)(i.Fragment,{children:["\u200E",o,"\u200E"]}),l[0]=o,l[1]=t):t=l[1];let c=t;l[2]!==s?(r=(0,i.jsxs)(i.Fragment,{children:["\u200E",s,"\u200E"]}),l[2]=s,l[3]=r):r=l[3];let f=r;if("RENAMED"===d){let e,t,r;return l[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.ArrowRightIcon,{}),t=(0,i.jsx)("span",{className:"sr-only",children:"renamed to"}),l[4]=e,l[5]=t):(e=l[4],t=l[5]),l[6]!==c||l[7]!==f?(r=(0,i.jsxs)("code",{children:[f," ",e,t," ",c]}),l[6]=c,l[7]=f,l[8]=r):r=l[8],r}if("DELETED"===d||"REMOVED"===d){let e;return l[9]!==f?(e=(0,i.jsx)("code",{children:f}),l[9]=f,l[10]=e):e=l[10],e}{let e;return l[11]!==c?(e=(0,i.jsx)("code",{children:c}),l[11]=c,l[12]=e):e=l[12],e}}function b(e){let t,r,b,N,_,v,j,R,w,C,E,F,I,D,A,O,L,S,k=(0,n.c)(68),{additionalLeftSideContent:$,areLinesExpanded:T,canExpandOrCollapseLines:M,className:V,diffStatsProps:H,hiddenFeatures:U,isBinary:z,isSubmodule:W,isCollapsed:B,canToggleRichDiff:P,headingId:Y,linesAdded:G,linesChanged:J,linesDeleted:q,fileLinkHref:K,fileLinkRef:X,newMode:Z,newPath:Q,oldMode:ee,oldPath:et,onCopyPath:er,onHeaderClick:ei,onToggleDiffDisplay:en,onToggleExpandAllLines:el,onToggleFileCollapsed:ea,patchStatus:eo,path:es,rightSideContent:ed,size:ec,showRichDiff:ef,isInSingleFileMode:eu}=e,em=void 0===U?g:U,eh=ec&&"-"===ec[0],ep=(0,m.useRef)(null),ex=function(e){let t,r,i=(0,n.c)(3),[l,a]=(0,m.useState)(!1);return i[0]!==e?(t=()=>{let t=e.current;if(!t)return;let r=()=>{a(t.scrollWidth>t.offsetWidth)};t.onfocus=()=>{r()},t.onblur=()=>{a(!1)},t.onmouseenter=()=>{r()},t.onmouseleave=()=>{a(!1)}},r=[e],i[0]=e,i[1]=t,i[2]=r):(t=i[1],r=i[2]),(0,m.useEffect)(t,r),l}(ep),eg=Q??et??"",ey=B?p.collapsed:"";k[0]!==V||k[1]!==ey?(t=(0,l.$)(p["diff-file-header"],ey,p["container-flex-wrap"],V),k[0]=V,k[1]=ey,k[2]=t):t=k[2],k[3]!==B||k[4]!==eu||k[5]!==ea?(r=!eu&&(0,i.jsx)("div",{className:"d-flex flex-shrink-0 flex-order-1",style:{width:"28px",justifyContent:"center"},children:(0,i.jsx)(o.K,{onClick:ea,"aria-label":B?"Expand file":"Collapse file",icon:B?a.ChevronRightIcon:a.ChevronDownIcon,size:"small",variant:"invisible"})}),k[3]=B,k[4]=eu,k[5]=ea,k[6]=r):r=k[6],k[7]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.$)("d-flex px-1 flex-items-center overflow-hidden flex-1",p["container-flex-order-reverse"],p["file-path-section"]),k[7]=b):b=k[7],k[8]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.$)(p["file-name"]),k[8]=N):N=k[8],k[9]!==eg||k[10]!==K||k[11]!==X||k[12]!==Q||k[13]!==et||k[14]!==ei||k[15]!==eo||k[16]!==ex?(_=ex?(0,i.jsx)(c.m,{text:eg,direction:"s",children:(0,i.jsx)(s.A,{className:"Link--primary",href:K,onClick:ei,ref:X,children:(0,i.jsx)(y,{newPath:Q,oldPath:et,status:eo})})}):(0,i.jsx)(s.A,{className:"Link--primary",href:K,onClick:ei,ref:X,children:(0,i.jsx)(y,{newPath:Q,oldPath:et,status:eo})}),k[9]=eg,k[10]=K,k[11]=X,k[12]=Q,k[13]=et,k[14]=ei,k[15]=eo,k[16]=ex,k[17]=_):_=k[17],k[18]!==Y||k[19]!==_?(v=(0,i.jsx)("h3",{id:Y,className:N,ref:ep,children:_}),k[18]=Y,k[19]=_,k[20]=v):v=k[20],k[21]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.$)("ml-2 flex-shrink-0",p["hide-on-mobile"]),k[21]=j):j=k[21];let eb=Q??et??"";return k[22]===Symbol.for("react.memo_cache_sentinel")?(R={direction:"s"},k[22]=R):R=k[22],k[23]!==er||k[24]!==eb?(w=(0,i.jsx)(h.T,{className:j,textToCopy:eb,ariaLabel:"Copy file name to clipboard",tooltipProps:R,onCopy:er,size:"small"}),k[23]=er,k[24]=eb,k[25]=w):w=k[25],k[26]!==Z||k[27]!==ee||k[28]!==eo?(C=(0,f.AL)(eo,ee,Z)&&(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("code",{children:ee}),(0,i.jsx)(a.ArrowRightIcon,{className:"mx-1"}),(0,i.jsx)("code",{children:Z})]}),k[26]=Z,k[27]=ee,k[28]=eo,k[29]=C):C=k[29],k[30]!==T||k[31]!==M||k[32]!==em||k[33]!==el||k[34]!==es?(E=!em.has(x.YR.expandLines)&&M&&el&&(0,i.jsx)(c.m,{text:T?`Collapse non-diff lines: ${es}`:`Expand all lines: ${es}`,direction:"s",children:(0,i.jsx)(o.K,{onClick:el,"aria-label":T?`Collapse non-diff lines: ${es}`:`Expand all lines: ${es}`,icon:T?a.FoldIcon:a.UnfoldIcon,size:"small",variant:"invisible","data-file-path":es,className:(0,l.$)("flex-shrink-0",!T&&"js-expand-all-difflines-button",p["hide-on-mobile"])})}),k[30]=T,k[31]=M,k[32]=em,k[33]=el,k[34]=es,k[35]=E):E=k[35],k[36]!==w||k[37]!==C||k[38]!==E||k[39]!==v?(F=(0,i.jsxs)("div",{className:b,children:[v,w,C,E]}),k[36]=w,k[37]=C,k[38]=E,k[39]=v,k[40]=F):F=k[40],k[41]===Symbol.for("react.memo_cache_sentinel")?(I=(0,l.$)("d-flex flex-row flex-justify-end flex-items-center gap-2 flex-1",p["container-flex-order"]),k[41]=I):I=k[41],k[42]!==H||k[43]!==em||k[44]!==W||k[45]!==G||k[46]!==J||k[47]!==q?(D=!em.has(x.YR.diffStats)&&(0,i.jsx)("div",{className:"d-flex flex-justify-end flex-items-center",children:!W&&(0,i.jsx)("div",{className:p["hide-on-mobile"],children:(0,i.jsx)(u.z,{linesAdded:G,linesDeleted:q,linesChanged:J,...H})})}),k[42]=H,k[43]=em,k[44]=W,k[45]=G,k[46]=J,k[47]=q,k[48]=D):D=k[48],k[49]!==z||k[50]!==eh||k[51]!==ec?(A=z&&(0,i.jsx)("div",{className:"d-flex flex-items-center",children:(0,i.jsx)("code",{className:(0,l.$)("px-2",eh&&"fgColor-danger",!eh&&"fgColor-success"),children:`${ec}`})}),k[49]=z,k[50]=eh,k[51]=ec,k[52]=A):A=k[52],k[53]!==P||k[54]!==en||k[55]!==ef?(O=P&&(0,i.jsxs)(d.I,{"aria-label":"File view",size:"small",className:p["hide-on-small"],onChange:en?e=>en(1===e):void 0,children:[(0,i.jsx)(d.I.IconButton,{"aria-label":"Display the source diff",selected:!ef,icon:a.CodeIcon}),(0,i.jsx)(d.I.IconButton,{"aria-label":"Display the rich diff",selected:ef,icon:a.FileIcon})]}),k[53]=P,k[54]=en,k[55]=ef,k[56]=O):O=k[56],k[57]!==ed||k[58]!==D||k[59]!==A||k[60]!==O?(L=(0,i.jsxs)("div",{className:I,children:[D,A,O,ed]}),k[57]=ed,k[58]=D,k[59]=A,k[60]=O,k[61]=L):L=k[61],k[62]!==$||k[63]!==F||k[64]!==L||k[65]!==t||k[66]!==r?(S=(0,i.jsxs)("div",{className:t,children:[r,$,F,L]}),k[62]=$,k[63]=F,k[64]=L,k[65]=t,k[66]=r,k[67]=S):S=k[67],S}try{y.displayName||(y.displayName="FileName")}catch{}try{b.displayName||(b.displayName="DiffFileHeader")}catch{}function N(e){let t,r,a=(0,n.c)(6),{children:o,isAddition:s,className:d}=e,c=s?"fgColor-success":"fgColor-danger";return a[0]!==d||a[1]!==c?(t=(0,l.$)("ml-1 text-small text-bold",c,d),a[0]=d,a[1]=c,a[2]=t):t=a[2],a[3]!==o||a[4]!==t?(r=(0,i.jsx)("div",{className:t,children:o}),a[3]=o,a[4]=t,a[5]=r):r=a[5],r}try{N.displayName||(N.displayName="LinesChangedCounterLabel")}catch{}},56051:(e,t,r)=>{r.d(t,{kF:()=>x,F7:()=>p});var i,n=r(74848),l=r(21728),a=r(38621),o=r(99511),s=r(27042),d=r(26108),c=r(69726),f=r(5524),u=r(96540),m=r(34164);let h={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--sNCxc",filterMaxHeight:"FileFilter-module__filterMaxHeight--Pjb6V"},p="No extension";function x({filterSize:e="medium",filterText:t,onFilterTextChange:r,fileExtensions:i,unselectedFileExtensions:l,onFilterChange:c,additionalFilterGroups:x}){i=i??{},l=l??new Set;let[g,y]=(0,u.useState)(t),b=(e,t)=>{c?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},N=Object.keys(i).filter(e=>e!==p).sort(),_=e=>!l.has(e),v=!!i[p];return(0,n.jsxs)("div",{id:"diff-file-tree-filter",className:"d-flex flex-nowrap gap-2",children:[(0,n.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,m.$)("small"===e&&h.filterMaxHeight),value:g,onChange:e=>{y(e.target.value),r?.(e.target.value)}}),(0,n.jsxs)(s.W,{children:[(0,n.jsx)(s.W.Anchor,{children:(0,n.jsx)(d.K,{"aria-label":"Filter options",icon:a.FilterIcon,className:"flex-shrink-0",size:e})}),(0,n.jsx)(s.W.Overlay,{children:(0,n.jsxs)(f.l,{children:[(0,n.jsxs)(f.l.Group,{selectionVariant:"multiple",children:[(0,n.jsx)(f.l.GroupHeading,{children:"File extensions"}),N.map(e=>{let t=_(e);return(0,n.jsx)(f.l.Item,{selected:t,onSelect:()=>b(!t,e),children:`${e} (${i[e]})`},e)}),v&&(0,n.jsx)(f.l.Item,{selected:_(p),onSelect:()=>b(!_(p),p),children:`${p} (${i[p]})`},p)]}),x]})})]})]})}try{(i=function(e){let t,r,i,f,u,p=(0,l.c)(9),{filterText:x,onFilterTextChange:g}=e;return p[0]!==g?(t=e=>g?.(e.target.value),p[0]=g,p[1]=t):t=p[1],p[2]!==x||p[3]!==t?(r=(0,n.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:a.SearchIcon,placeholder:"Filter files\u2026",value:x,onChange:t}),p[2]=x,p[3]=t,p[4]=r):r=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(s.W.Anchor,{children:(0,n.jsx)(d.K,{"aria-label":"Filter options",icon:a.FilterIcon,className:"flex-shrink-0"})}),p[5]=i):i=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsxs)(s.W,{children:[i,(0,n.jsx)(s.W.Overlay,{className:(0,m.$)(h.filterLoadingHeight),children:(0,n.jsx)("div",{className:(0,m.$)("d-flex","flex-column","flex-justify-center","flex-items-center",h.filterLoadingHeight),children:(0,n.jsx)(c.A,{size:"medium"})})})]}),p[6]=f):f=p[6],p[7]!==r?(u=(0,n.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[r,f]}),p[7]=r,p[8]=u):u=p[8],u}).displayName||(i.displayName="FileFilterLoading")}catch{}try{x.displayName||(x.displayName="FileFilterShared")}catch{}},59523:(e,t,r)=>{function i(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function n(e,t,r){return"MODIFIED"===e&&t!==r}function l(e,t,r,n){return"MODIFIED"===t&&r!==n&&!i(e)}function a(e){return"COPIED"===e.status&&!i(e)}function o(e){return"RENAMED"===e.status&&!i(e)}function s(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function d(e){return!!e.truncatedReason}r.d(t,{AL:()=>n,HI:()=>d,Jc:()=>a,Sn:()=>l,dK:()=>o,lO:()=>s,l_:()=>u,s8:()=>h,xW:()=>m});let c=["maximum diff size exceeded.","maximum number of lines exceeded."],f=/^maximum file count exceeded/;function u(e){let t=e;return c.includes(e)?t="This diff could not be loaded automatically because of too many other changes.":f.test(e)&&(t="This diff could not be loaded automatically because of too many other files to display."),t}function m(e){return!!e.newTreeEntry?.isGenerated}function h(e){return 0===e.linesChanged}},60745:(e,t,r)=>{r.d(t,{a:()=>f});var i=r(74848),n=r(21728),l=r(71315),a=r(54571),o=r(38621),s=r(57352),d=r(72511),c=r(21373);function f(e){let t,r,f,m,h,p=(0,n.c)(7),{isShown:x,toggleShowHiddenCharacters:g}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],p[0]=t):t=p[0];let[y]=(0,a.I)(u,l.cg,t);if(!y)return null;p[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(o.AlertIcon,{}),p[1]=r):r=p[1],p[2]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsxs)("span",{children:["This file contains bidirectional or hidden Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters."," ",(0,i.jsx)(s.A,{inline:!0,href:"https://github.co/hiddenchars",target:"_blank",rel:"noreferrer",children:"Learn more about bidirectional Unicode characters"})]}),p[2]=f):f=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(m={backgroundClip:"padding-box"},p[3]=m):m=p[3];let b=x?"Hide revealed characters":"Show hidden characters";return p[4]!==b||p[5]!==g?(h=(0,i.jsxs)(d.A,{className:"d-flex flex-items-center",full:!0,variant:"warning",children:[r,f,(0,i.jsx)(c.Q,{className:"ml-4 float-right",onClick:g,size:"small",style:m,children:b})]}),p[4]=b,p[5]=g,p[6]=h):h=p[6],h}function u(){return l.cg}try{f.displayName||(f.displayName="HiddenUnicodeBanner")}catch{}},61583:(e,t,r)=>{r.d(t,{EW:()=>l,Gl:()=>p,ZD:()=>c,e3:()=>x,i8:()=>f,j$:()=>u,jU:()=>d,o9:()=>h,pd:()=>o,pk:()=>m,yI:()=>s});var i=r(53627),n=r(71315);function l(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let r=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=r&&6===r.length?r:null}function a(e,t){return`${"left"===t?"L":"R"}${e}`}function o(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function s(e){return!!(l(e)||l(`diff-${e}`))&&(e.includes("R")||e.includes("L"))}function d(e){if(!(o(e)||o(`diff-${e}`)))return;let t=e.replace("#","").replace("diff-","");return t.includes("-")&&(t=t.split("-")[0]??""),t.includes("L")&&(t=t.split("L")[0]??""),t.includes("R")&&(t=t.split("R")[0]??""),t}function c(e){let t=l(e);if(t){let e=t[1],r=t[2]?"L"===t[2]?"left":"right":void 0,i=t[3]?parseInt(t[3]):void 0;if(!e||!r||void 0===i)return;return{diffAnchor:e,startOrientation:r,startLineNumber:i,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??r,endLineNumber:(t[5]?parseInt(t[5]):void 0)??i,firstSelectedLineNumber:i,firstSelectedOrientation:r}}}function f(e){m(u(e))}function u(e){let t=a(e.startLineNumber,e.startOrientation),r=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=a(e.endLineNumber,e.endOrientation);r+=`-${t}`}return r}function m(e){let t=`#${e}`;if(t===window.location.hash)return;let r=window.location.href;(0,i.Zu)(t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:r}))}function h(){let e=l(n.fV.hash??"")??"";return(""===e?o(n.fV.hash??"")??"":e?.[0]??"").replace("#","").replace("diff-","")}function p(){let e=(n.fV.hash??"").match(/^#?(r\d+)/),t=e?.[1];return t?parseInt(t.slice(1)):void 0}function x(){let e=(n.fV.hash??"").match(/^#annotation_(\d+)/),t=e?.[1];return t?parseInt(t):void 0}},66358:(e,t,r)=>{r.d(t,{JF:()=>n,YR:()=>l,w$:()=>i});let i={Addition:"ADDITION",Context:"CONTEXT",Deletion:"DELETION",Hunk:"HUNK",InjectedContext:"INJECTED_CONTEXT",Empty:"EMPTY"},n={[i.Addition]:"+",[i.Deletion]:"-",[i.Context]:" ",[i.Hunk]:"@",[i.InjectedContext]:"~"},l={diffStats:"diffStats",expandLines:"expandLines",markAsViewed:"markAsViewed"}},78049:(e,t,r)=>{r.d(t,{E:()=>a});var i=r(74848),n=r(21728),l=r(38621);function a(e){let t=(0,n.c)(4),{status:r}=e;switch(r){case"ADDED":case"COPIED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(l.FileAddedIcon,{size:16,className:"fgColor-success"}),t[0]=e):e=t[0],e}case"DELETED":case"REMOVED":{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(l.FileRemovedIcon,{size:16,className:"fgColor-danger"}),t[1]=e):e=t[1],e}case"RENAMED":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(l.FileMovedIcon,{size:16,className:"fgColor-attention"}),t[2]=e):e=t[2],e}default:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(l.FileDiffIcon,{size:16,className:"fgColor-muted"}),t[3]=e):e=t[3],e}}}try{a.displayName||(a.displayName="FileStatusIcon")}catch{}},79472:(e,t,r)=>{r.d(t,{C0:()=>u,ID:()=>c,Qn:()=>m,aX:()=>s,bJ:()=>f,w$:()=>d});var i=r(21728),n=r(20622),l=r(97286),a=r(96459),o=r(53627);let s={splitPreference:"split",lineSpacing:"relaxed",commentsPreference:r(18799).sI.Visible};function d(){return[n.u.diffViewUserSettings]}function c(e){let t,r,n,a=(0,i.c)(6);a[0]===Symbol.for("react.memo_cache_sentinel")?(t=d(),a[0]=t):t=a[0];let o=t;return a[1]!==e?(r=async()=>e||s,a[1]=e,a[2]=r):r=a[2],a[3]!==e||a[4]!==r?(n={queryKey:o,queryFn:r,initialData:e,staleTime:1/0},a[3]=e,a[4]=r,a[5]=n):n=a[5],(0,l.I)(n)}function f(e,t){let r=new URL(window.location.href,window.location.origin);if(t){let i=encodeURIComponent(t);r.searchParams.set(e,i)}else r.searchParams.delete(e);(0,o.bj)(r.toString())}function u(e){let t,r=(0,i.c)(2),n=e,[l]=(0,a.o)();r[0]!==l?(t=l.get("diff"),r[0]=l,r[1]=t):t=r[1];let o=t;return("split"===o||"unified"===o)&&(n=o),n}function m(e){let t=e,[r]=(0,a.o)(),i=r.get("w");return"1"===i?t=!0:"0"===i&&(t=!1),t}},87825:(e,t,r)=>{r.d(t,{o:()=>o});var i=r(74848),n=r(21728),l=r(38621),a=r(55255);function o(){let e,t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.A,{direction:"n",text:"This line has hidden Unicode characters",children:(0,i.jsx)(l.AlertIcon,{className:"mr-2"})}),t[0]=e):e=t[0],e}try{o.displayName||(o.displayName="HiddenUnicodeAlert")}catch{}},89141:(e,t,r)=>{r.d(t,{w:()=>u});var i=r(74848),n=r(38621),l=r(27042),a=r(5524),o=r(96540),s=r(50443),d=r(34720),c=r(50307),f=r(35247);let u=({fileDiffReference:e,selectedRange:t,showDivider:r})=>{let u=(0,o.useMemo)(()=>{let r={...e};return t&&(r.selectedRange={start:`${t?.startOrientation[0]?.toUpperCase()??""}${t?.startLineNumber}`,end:`${t?.endOrientation[0]?.toUpperCase()??""}${t?.endLineNumber}`}),r},[e,t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.W,{children:[(0,i.jsx)(l.W.Anchor,{children:(0,i.jsxs)(a.l.Item,{children:[(0,i.jsx)(a.l.LeadingVisual,{children:(0,i.jsx)(n.CopilotIcon,{})}),"Copilot"]})}),(0,i.jsx)(l.W.Overlay,{children:(0,i.jsxs)(a.l,{children:[(0,i.jsx)(d.t,{fileDiffReference:u,eventContext:{prx:!0}}),(0,i.jsx)(c.e,{fileDiffReference:u,eventContext:{prx:!0}}),!f.W.copilotRedirectDiffViewToImmersive&&(0,i.jsx)(s.i,{fileDiffReference:u,eventContext:{prx:!0}})]})})]}),r&&(0,i.jsx)(a.l.Divider,{})]})};try{u.displayName||(u.displayName="CopilotDiffChatContextMenu")}catch{}}}]);
//# sourceMappingURL=packages_diff-file-header_diff-file-header_ts-packages_diff-file-tree_diff-file-tree-helpers_-b49245-bb1ec0e75ea1.js.map